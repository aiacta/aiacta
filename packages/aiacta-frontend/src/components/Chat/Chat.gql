fragment MessageData on Message {
  id
  text
  author {
    id
    name
    color
  }
  createdAt
  rolls
}

query ChatMessages($worldId: ID!) {
  world(id: $worldId) {
    id
    messages {
      ...MessageData
    }
  }
}

mutation SendMessage($worldId: ID!, $text: String) {
  sendMessage(worldId: $worldId, input: { text: $text }) {
    ...MessageData
  }
}

subscription NewChatMessages($worldId: ID!) {
  newMessages(worldId: $worldId) {
    ...MessageData
  }
}
